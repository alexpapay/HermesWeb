@model List<OvpNgDatabase.Models.OvpNg.ObjectModel>

<div class="container">
    @Html.Partial("_BreadCrumbs")

    <div class="row shadow-sm border m-2">
        <div class="col">
            <nav class="navbar navbar-light justify-content-between">
                <form class="form-inline">
                    <input class="form-control mr-sm-2" type="search" placeholder="Поиск..." aria-label="Search">
                    <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Поиск</button>
                </form>
                <a class="navbar-brand">По вашей выборке в базе: @Model.Count</a>
                <a class="navbar-brand">Вы можете приобрести: 0</a>
            </nav>
        </div>
    </div>

    <div class="row shadow-sm border m-2">
        <div class="col nopadding">
            <table class="table table-striped table-responsive-sm table-responsive-md table-responsive-lg" style="font-size: .85rem;margin-bottom: 0;">
                <thead class="thead-blue">
                    <tr>
                        <th scope="col">@Html.DisplayNameFor(model => model[0].ObjectName)</th>
                        @if (User.IsInRole("admin"))
                        {
                            <th scope="col">@Html.DisplayNameFor(model => model[0].LastEditAt)</th>
                        }
                        <th scope="col">@Html.DisplayNameFor(model => model[0].Subject)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model[0].StageId)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model[0].GeoDistrictId)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model[0].InvestorId)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model[0].DesignerId)</th>
                        <th scope="col">@Html.DisplayNameFor(model => model[0].ContractorId)</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var mainObject in Model)
                    {
                        <tr>
                            <td style="text-align: center;">
                                @Html.HiddenFor(mainObjectItem => mainObject.Id)
                                @Html.ActionLink("Карточка", "ObjectCard", new { objectId = mainObject.Id }, new { @class = "btn btn-outline-info btn-sm" })
                            </td>
                            @if (User.IsInRole("admin"))
                            {
                                <td>@Html.DisplayTextFor(mainObjectItem => mainObject.LastEditAt)</td>
                            }
                            <td style="text-align: center;">@Html.DisplayTextFor(mainObjectItem => mainObject.Subject)</td>
                            <td>@Html.DisplayTextFor(mainObjectItem => mainObject.Stage.Name)</td>
                            <td style="text-align: center;">@Html.DisplayTextFor(mainObjectItem => mainObject.GeoDataDistrict.Name)</td>
                            <td style="text-align: center;">@Html.DisplayTextFor(mainObjectItem => mainObject.Investor.Name)</td>
                            <td style="text-align: center;">@Html.DisplayTextFor(mainObjectItem => mainObject.GeneralDesigner.Name)</td>
                            <td style="text-align: center;">@Html.DisplayTextFor(mainObjectItem => mainObject.Contractor.Name)</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>